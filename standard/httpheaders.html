<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>HttpHeaders模块-Nginx中文文档</title>
<link rel="stylesheet" type="text/css" media="all" href="../userguide.css" />
<script type="text/javascript" src="../nav/nav.js"></script>
<script type="text/javascript" src="../nav/prototype.lite.js"></script>
<script type="text/javascript" src="../nav/moo.fx.js"></script>
<script type="text/javascript" src="../nav/user_guide_menu.js"></script>
<meta name="robots" content="all" />
</head>
<body>
<!-- START NAVIGATION -->
<div id="nav2"><a name="top"></a><a href="../index.html" ><img src="../images/nav_toggle_darker.jpg" width="154" height="43" border="0" /></a></div>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><span id="sitename">Nginx中文文档</span></td>
<td id="breadcrumb_right"><a href="../index.html">目录首页</a></td>
</tr>
</table>
</div>
<!-- END NAVIGATION -->
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
<a href="../index.html" >&nbsp;&#8250;&nbsp;HttpHeaders模块
</td>
</tr>
</table>
<br clear="all" />
<!-- START CONTENT -->
<div id="content">
<h1>HttpHeaders模块</h1>
<p>本模板可以设置HTTP报文的头标。
</p><p>__示例__
</p>
<pre>
: expires     24h;
: expires     0;
: expires     -1;
: expires     epoch;
: add_header  Cache-Control  private;
</pre>
<h2>指令 </h2>
<ul><li> [#add_header add_header] 
</li><li> [#expires expires] 
</li></ul>
<h2> 增加头标 </h2>
<p><b>语法：</b> <i>add_header name value</i>
</p><p><b>默认值：</b> <i>none</i>
</p><p><b>作用域：</b> <i>http, server, location</i>
</p><p>当HTTP应答状态码为 200、204、301、302 或 304 的时候，增加指定的HTTP头标。
</p><p>其中头标的值可以使用变量。
</p><h2>expires </h2>
<p><b>语法：</b> <i>expires [time|epoch|max|off] </i>
</p><p><b>默认值：</b> <i>expires off</i>
</p><p><b>作用域：</b> <i>http, server, location</i>
</p><p>使用本指令可以控制HTTP应答中的“Expires”和“Cache-Control”的头标，（起到控制页面缓存的作用）。
</p><p>可以在time值中使用正数或负数。“Expires”头标的值将通过当前系统时间加上您设定的 time 值来获得。
</p><p><code>epoch</code> 指定“Expires”的值为 1 January, 1970, 00:00:01 GMT。
</p>
<dl><dd> 
</dd></dl>
<p><code>max</code> 指定“Expires”的值为 31 December 2037 23:59:59 GMT，“Cache-Control”的值为10年。
</p>
<dl><dd>
</dd></dl>
<p><code>-1</code> 指定“Expires”的值为 服务器当前时间 -1s,即永远过期
</p><p>“Cache-Control”头标的值由您指定的时间来决定：
</p>
<ul><li> 负数：<code>Cache-Control: no-cache</code> 
</li><li> 正数或零：<code>Cache-Control: max-age = #</code>, # 为您指定时间的秒数。
</li></ul>
<p>"off" 表示不修改“Expires”和“Cache-Control”的值
</p>
<h2>References </h2>
<p><a href="http://sysoev.ru/nginx/docs/http/ngx_http_headers_module.html" class="external text" title="http://sysoev.ru/nginx/docs/http/ngx_http_headers_module.html" rel="nofollow">原始文档</a>
</p>
</div>
<!-- END CONTENT -->
<div id="footer">
<p><a href="#top">顶端</a></p>
<p>中文化: <a href="../index.html" >Nginx中文文档</a> &nbsp;&middot;&nbsp; 制作: nginx.cn  (整理及部分翻译 )</p>
</div>
 
</body></html>
